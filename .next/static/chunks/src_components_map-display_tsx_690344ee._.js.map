{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/map-display.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport type { Camera } from '@/lib/types';\nimport { Map, AdvancedMarker, InfoWindow, Pin } from '@vis.gl/react-google-maps';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { Button } from './ui/button';\nimport { ExternalLink } from 'lucide-react';\n\nconst NZ_CENTER = { lat: -41.28664, lng: 174.77557 };\n\nexport default function MapDisplay({ cameras }: { cameras: Camera[] }) {\n    const [selectedCameraId, setSelectedCameraId] = useState<string | null>(null);\n\n    const selectedCamera = cameras.find(c => c.id === selectedCameraId);\n\n    return (\n        <div className=\"w-full h-full bg-muted\">\n            <Map\n                defaultCenter={NZ_CENTER}\n                defaultZoom={5}\n                gestureHandling={'greedy'}\n                disableDefaultUI={true}\n                mapId=\"kiwi-traffic-map\"\n            >\n                {cameras.map((camera) => (\n                    <AdvancedMarker\n                        key={camera.id}\n                        position={{ lat: camera.latitude, lng: camera.longitude }}\n                        onClick={() => setSelectedCameraId(camera.id)}\n                    >\n                         <Pin background={'hsl(var(--primary))'} borderColor={'hsl(var(--primary))'} glyphColor={'hsl(var(--primary-foreground))'} />\n                    </AdvancedMarker>\n                ))}\n\n                {selectedCamera && (\n                    <InfoWindow\n                        position={{ lat: selectedCamera.latitude, lng: selectedCamera.longitude }}\n                        onCloseClick={() => setSelectedCameraId(null)}\n                        minWidth={200}\n                    >\n                        <div className=\"p-2 max-w-xs\">\n                            <h3 className=\"font-bold text-md mb-2\">{selectedCamera.name}</h3>\n                            <div className=\"aspect-video relative mb-2 rounded-md overflow-hidden\">\n                                <Image\n                                    src={selectedCamera.imageUrl}\n                                    alt={`Live feed from ${selectedCamera.name}`}\n                                    fill\n                                    className=\"object-cover\"\n                                    sizes=\"250px\"\n                                    data-ai-hint={selectedCamera.imageHint}\n                                />\n                            </div>\n                             {selectedCamera.description && <div className=\"text-sm mb-2\">{selectedCamera.description}</div>}\n                            <Button asChild size=\"sm\" className=\"w-full\">\n                                <Link href={`/cameras/${selectedCamera.id}`}>\n                                    View Details\n                                    <ExternalLink className=\"ml-2 h-4 w-4\" />\n                                </Link>\n                            </Button>\n                        </div>\n                    </InfoWindow>\n                )}\n            </Map>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;AAUA,MAAM,YAAY;IAAE,KAAK,CAAC;IAAU,KAAK;AAAU;AAEpC,SAAS,WAAW,EAAE,OAAO,EAAyB;;IACjE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAExE,MAAM,iBAAiB,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAElD,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC,qLAAA,CAAA,MAAG;YACA,eAAe;YACf,aAAa;YACb,iBAAiB;YACjB,kBAAkB;YAClB,OAAM;;gBAEL,QAAQ,GAAG,CAAC,CAAC,uBACV,6LAAC,qLAAA,CAAA,iBAAc;wBAEX,UAAU;4BAAE,KAAK,OAAO,QAAQ;4BAAE,KAAK,OAAO,SAAS;wBAAC;wBACxD,SAAS,IAAM,oBAAoB,OAAO,EAAE;kCAE3C,cAAA,6LAAC,qLAAA,CAAA,MAAG;4BAAC,YAAY;4BAAuB,aAAa;4BAAuB,YAAY;;;;;;uBAJpF,OAAO,EAAE;;;;;gBAQrB,gCACG,6LAAC,qLAAA,CAAA,aAAU;oBACP,UAAU;wBAAE,KAAK,eAAe,QAAQ;wBAAE,KAAK,eAAe,SAAS;oBAAC;oBACxE,cAAc,IAAM,oBAAoB;oBACxC,UAAU;8BAEV,cAAA,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAA0B,eAAe,IAAI;;;;;;0CAC3D,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,gIAAA,CAAA,UAAK;oCACF,KAAK,eAAe,QAAQ;oCAC5B,KAAK,CAAC,eAAe,EAAE,eAAe,IAAI,EAAE;oCAC5C,IAAI;oCACJ,WAAU;oCACV,OAAM;oCACN,gBAAc,eAAe,SAAS;;;;;;;;;;;4BAG5C,eAAe,WAAW,kBAAI,6LAAC;gCAAI,WAAU;0CAAgB,eAAe,WAAW;;;;;;0CACzF,6LAAC,qIAAA,CAAA,SAAM;gCAAC,OAAO;gCAAC,MAAK;gCAAK,WAAU;0CAChC,cAAA,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAM,CAAC,SAAS,EAAE,eAAe,EAAE,EAAE;;wCAAE;sDAEzC,6LAAC,yNAAA,CAAA,eAAY;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS5D;GAvDwB;KAAA","debugId":null}}]
}