{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/lib/data.ts"],"sourcesContent":["import type { Camera } from './types';\n\n// This is a type guard to check if a camera is valid.\nfunction isCamera(camera: any): camera is any {\n  return (\n    camera &&\n    camera.id &&\n    camera.name &&\n    camera.latitude &&\n    camera.longitude &&\n    camera.imageUrl &&\n    !camera.offline\n  );\n}\n\n// Keep a cache of the cameras to avoid fetching them on every request.\nlet cameraCache: Camera[] | null = null;\nconst API_BASE_URL = 'https://trafficnz.info';\n\nexport async function getAllCameras(): Promise<Camera[]> {\n  if (cameraCache) {\n    return cameraCache;\n  }\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/service/traffic/rest/4/cameras/all`, {\n      headers: {\n        'Accept': 'application/json'\n      },\n      next: { revalidate: 300 } // Revalidate every 5 minutes\n    });\n    if (!response.ok) {\n      console.error('Failed to fetch camera data:', response.statusText);\n      return [];\n    }\n    const data = await response.json();\n    \n    if (data && data.response && Array.isArray(data.response.camera)) {\n        const activeCameras = data.response.camera.filter(isCamera);\n        cameraCache = activeCameras.map((cam: any) => ({\n            id: String(cam.id),\n            name: cam.name,\n            region: cam.region.name,\n            latitude: cam.latitude,\n            longitude: cam.longitude,\n            status: cam.underMaintenance ? 'Under Maintenance' : 'Active',\n            direction: cam.direction,\n            imageUrl: `${API_BASE_URL}${cam.imageUrl}`,\n            description: cam.description,\n            group: cam.group,\n        }));\n        return cameraCache;\n    }\n\n    console.error(\"Invalid data structure from API. Received:\", JSON.stringify(data, null, 2));\n    return [];\n  } catch (error) {\n    console.error(\"Error fetching or processing camera data:\", error);\n    // In case of an error, return an empty array to prevent the app from crashing.\n    return [];\n  }\n}\n\nexport async function getCameraById(id: string): Promise<Camera | undefined> {\n    const cameras = await getAllCameras();\n    return cameras.find(camera => camera.id === id);\n}\n"],"names":[],"mappings":";;;;AAEA,sDAAsD;AACtD,SAAS,SAAS,MAAW;IAC3B,OACE,UACA,OAAO,EAAE,IACT,OAAO,IAAI,IACX,OAAO,QAAQ,IACf,OAAO,SAAS,IAChB,OAAO,QAAQ,IACf,CAAC,OAAO,OAAO;AAEnB;AAEA,uEAAuE;AACvE,IAAI,cAA+B;AACnC,MAAM,eAAe;AAEd,eAAe;IACpB,IAAI,aAAa;QACf,OAAO;IACT;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,mCAAmC,CAAC,EAAE;YACjF,SAAS;gBACP,UAAU;YACZ;YACA,MAAM;gBAAE,YAAY;YAAI,EAAE,6BAA6B;QACzD;QACA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,KAAK,CAAC,gCAAgC,SAAS,UAAU;YACjE,OAAO,EAAE;QACX;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,QAAQ,KAAK,QAAQ,IAAI,MAAM,OAAO,CAAC,KAAK,QAAQ,CAAC,MAAM,GAAG;YAC9D,MAAM,gBAAgB,KAAK,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;YAClD,cAAc,cAAc,GAAG,CAAC,CAAC,MAAa,CAAC;oBAC3C,IAAI,OAAO,IAAI,EAAE;oBACjB,MAAM,IAAI,IAAI;oBACd,QAAQ,IAAI,MAAM,CAAC,IAAI;oBACvB,UAAU,IAAI,QAAQ;oBACtB,WAAW,IAAI,SAAS;oBACxB,QAAQ,IAAI,gBAAgB,GAAG,sBAAsB;oBACrD,WAAW,IAAI,SAAS;oBACxB,UAAU,GAAG,eAAe,IAAI,QAAQ,EAAE;oBAC1C,aAAa,IAAI,WAAW;oBAC5B,OAAO,IAAI,KAAK;gBACpB,CAAC;YACD,OAAO;QACX;QAEA,QAAQ,KAAK,CAAC,8CAA8C,KAAK,SAAS,CAAC,MAAM,MAAM;QACvF,OAAO,EAAE;IACX,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6CAA6C;QAC3D,+EAA+E;QAC/E,OAAO,EAAE;IACX;AACF;AAEO,eAAe,cAAc,EAAU;IAC1C,MAAM,UAAU,MAAM;IACtB,OAAO,QAAQ,IAAI,CAAC,CAAA,SAAU,OAAO,EAAE,KAAK;AAChD","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/map-display.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/map-display.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/map-display.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/map-display.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/map-display.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/map-display.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/header.tsx <module evaluation>\",\n    \"Header\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,2DACA","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/header.tsx\",\n    \"Header\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,uCACA","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/camera-list.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/camera-list.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/camera-list.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/camera-list.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/camera-list.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/camera-list.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/app/page.tsx"],"sourcesContent":["import { getAllCameras } from '@/lib/data';\nimport MapDisplay from '@/components/map-display';\nimport { Suspense } from 'react';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport {\n  Sidebar,\n  SidebarInset,\n} from '@/components/ui/sidebar';\nimport { Header } from '@/components/header';\nimport CameraList from '@/components/camera-list';\n\nexport default async function Home() {\n  const cameras = await getAllCameras();\n\n  return (\n    <div className=\"flex flex-col h-screen\">\n      <Header />\n      <div className=\"flex flex-1 overflow-hidden\">\n        <Sidebar>\n          <CameraList cameras={cameras} />\n        </Sidebar>\n        <SidebarInset>\n          <div className=\"flex-1 relative flex flex-col h-full\">\n            <Suspense\n              fallback={<Skeleton className=\"h-full w-full bg-muted\" />}\n            >\n              <MapDisplay cameras={cameras} />\n            </Suspense>\n          </div>\n        </SidebarInset>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;;;;;;;;;AAEe,eAAe;IAC5B,MAAM,UAAU,MAAM,CAAA,GAAA,kHAAA,CAAA,gBAAa,AAAD;IAElC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4HAAA,CAAA,SAAM;;;;;0BACP,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mIAAA,CAAA,UAAO;kCACN,cAAA,8OAAC,oIAAA,CAAA,UAAU;4BAAC,SAAS;;;;;;;;;;;kCAEvB,8OAAC,mIAAA,CAAA,eAAY;kCACX,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,qMAAA,CAAA,WAAQ;gCACP,wBAAU,8OAAC,oIAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;0CAE9B,cAAA,8OAAC,oIAAA,CAAA,UAAU;oCAAC,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnC","debugId":null}}]
}