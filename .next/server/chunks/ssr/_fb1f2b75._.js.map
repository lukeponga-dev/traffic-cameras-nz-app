{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,yDACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/camera-card.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { Camera } from '@/lib/types';\nimport Image from 'next/image';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Skeleton } from './ui/skeleton';\nimport { useState } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Milestone } from 'lucide-react';\n\nexport function CameraCard({ camera }: { camera: Camera }) {\n    const [isLoading, setIsLoading] = useState(true);\n\n    return (\n        <Card className=\"overflow-hidden transition-all duration-300 hover:shadow-md hover:border-primary/50\">\n             <CardContent className=\"p-3\">\n                <div className=\"flex items-start gap-4\">\n                    <div className=\"w-40 h-24 aspect-video relative bg-muted overflow-hidden rounded-md shrink-0\">\n                        {isLoading && <Skeleton className=\"absolute inset-0\" />}\n                         <Image\n                            src={camera.imageUrl}\n                            alt={`Live feed from ${camera.name}`}\n                            fill\n                            className={cn('object-cover transition-opacity duration-300', isLoading ? 'opacity-0' : 'opacity-100')}\n                            sizes=\"160px\"\n                            onLoad={() => setIsLoading(false)}\n                            unoptimized\n                        />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                         <p className=\"text-base font-semibold leading-tight\">\n                            {camera.region}: <span className=\"font-normal\">{camera.name}</span>\n                        </p>\n                        <p className=\"text-sm text-muted-foreground mt-1\">\n                            {camera.description}\n                        </p>\n                        {camera.highway && (\n                            <div className=\"flex items-center gap-1.5 mt-2 text-xs text-muted-foreground font-medium\">\n                                <Milestone className=\"h-3 w-3\" />\n                                <span>{camera.highway}</span>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </CardContent>\n        </Card>\n    );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;AAUO,SAAS,WAAW,EAAE,MAAM,EAAsB;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,qBACI,8OAAC,gIAAA,CAAA,OAAI;QAAC,WAAU;kBACX,cAAA,8OAAC,gIAAA,CAAA,cAAW;YAAC,WAAU;sBACpB,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;4BACV,2BAAa,8OAAC,oIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACjC,8OAAC,6HAAA,CAAA,UAAK;gCACH,KAAK,OAAO,QAAQ;gCACpB,KAAK,CAAC,eAAe,EAAE,OAAO,IAAI,EAAE;gCACpC,IAAI;gCACJ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD,YAAY,cAAc;gCACxF,OAAM;gCACN,QAAQ,IAAM,aAAa;gCAC3B,WAAW;;;;;;;;;;;;kCAGnB,8OAAC;wBAAI,WAAU;;0CACV,8OAAC;gCAAE,WAAU;;oCACT,OAAO,MAAM;oCAAC;kDAAE,8OAAC;wCAAK,WAAU;kDAAe,OAAO,IAAI;;;;;;;;;;;;0CAE/D,8OAAC;gCAAE,WAAU;0CACR,OAAO,WAAW;;;;;;4BAEtB,OAAO,OAAO,kBACX,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,4MAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;kDACrB,8OAAC;kDAAM,OAAO,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrD","debugId":null}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/camera-list.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { Camera } from '@/lib/types';\nimport { CameraCard } from '@/components/camera-card';\nimport { Skeleton } from './ui/skeleton';\n\nfunction CameraListSkeleton() {\n    return (\n        <div className=\"space-y-4\">\n            {[...Array(8)].map((_, i) => (\n                 <div key={i} className=\"flex items-center p-3\">\n                    <Skeleton className=\"w-40 h-24 rounded-md mr-4 shrink-0\" />\n                    <div className=\"flex-1 space-y-2\">\n                        <Skeleton className=\"h-5 w-3/4\" />\n                        <Skeleton className=\"h-4 w-full\" />\n                        <Skeleton className=\"h-4 w-1/4\" />\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n}\n\n\nexport default function CameraList({ \n    cameras,\n    isLoading,\n}: { \n    cameras: Camera[];\n    isLoading: boolean;\n}) {\n    const renderCameraList = (cameraList: Camera[]) => (\n        <div className=\"space-y-4\">\n            {cameraList.map(camera => (\n                <CameraCard key={camera.id} camera={camera} />\n            ))}\n            {cameras.length > 0 && cameraList.length === 0 && (\n                <div className=\"text-center py-10 text-muted-foreground bg-card rounded-lg\">\n                    <p>No cameras found.</p>\n                </div>\n            )}\n        </div>\n    );\n\n    return (\n        <div className=\"flex flex-col\">\n            {isLoading ? <CameraListSkeleton /> : (\n                <>\n                    {renderCameraList(cameras)}\n                </>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AAJA;;;;AAMA,SAAS;IACL,qBACI,8OAAC;QAAI,WAAU;kBACV;eAAI,MAAM;SAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBAClB,8OAAC;gBAAY,WAAU;;kCACpB,8OAAC,oIAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,oIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC,oIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC,oIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;;eALjB;;;;;;;;;;AAW3B;AAGe,SAAS,WAAW,EAC/B,OAAO,EACP,SAAS,EAIZ;IACG,MAAM,mBAAmB,CAAC,2BACtB,8OAAC;YAAI,WAAU;;gBACV,WAAW,GAAG,CAAC,CAAA,uBACZ,8OAAC,oIAAA,CAAA,aAAU;wBAAiB,QAAQ;uBAAnB,OAAO,EAAE;;;;;gBAE7B,QAAQ,MAAM,GAAG,KAAK,WAAW,MAAM,KAAK,mBACzC,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;kCAAE;;;;;;;;;;;;;;;;;IAMnB,qBACI,8OAAC;QAAI,WAAU;kBACV,0BAAY,8OAAC;;;;iCACV;sBACK,iBAAiB;;;;;;;AAKtC","debugId":null}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/lib/data.ts"],"sourcesContent":["import type { Camera } from './types';\nimport fallbackData from '../../cameras.json';\n\nlet cameraCache: Camera[] | null = null;\nconst API_BASE_URL = 'https://services.arcgis.com/CXc2Ea2s6LHmJg1s/arcgis/rest/services/Live_Cameras_NZTA_Public/FeatureServer/0';\n\nconst NZTA_ARCGIS_URL = `${API_BASE_URL}/query?f=json&where=1=1&outFields=*&returnGeometry=true`;\n\nfunction processApiCameraData(arcgisFeatures: any[]): Camera[] {\n    if (!arcgisFeatures || arcgisFeatures.length === 0) return [];\n    \n    return arcgisFeatures.map(feature => {\n        const attr = feature.attributes;\n        const geom = feature.geometry;\n\n        return {\n            id: String(attr.id),\n            name: attr.name,\n            region: attr.region,\n            latitude: geom.y,\n            longitude: geom.x,\n            status: attr.underMaintenance === 'false' ? 'Active' : 'Under Maintenance',\n            direction: attr.direction,\n            imageUrl: attr.imageUrl,\n            description: attr.description,\n            group: attr.group,\n            highway: attr.highway\n        };\n    });\n}\n\nexport async function getAllCameras(): Promise<Camera[]> {\n  if (cameraCache) {\n    return cameraCache;\n  }\n\n  try {\n    const response = await fetch(NZTA_ARCGIS_URL, {\n      headers: {\n        'Accept': 'application/json'\n      },\n      next: { revalidate: 300 } // Revalidate every 5 minutes\n    });\n    \n    if (!response.ok) {\n        throw new Error(`Failed to fetch camera data: ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    \n    if (data && data.features) {\n        cameraCache = processApiCameraData(data.features);\n        return cameraCache;\n    }\n\n    console.error(\"Invalid data structure from ArcGIS API. Received:\", JSON.stringify(data, null, 2));\n    throw new Error(\"Invalid data structure from ArcGIS API.\");\n\n  } catch (error) {\n    console.warn(\"Error fetching live camera data from ArcGIS, using fallback:\", error);\n    // @ts-ignore\n    if (fallbackData?.response?.camera) {\n        const oldApiCameras = fallbackData.response.camera;\n        cameraCache = oldApiCameras.map((cam: any) => ({\n            id: String(cam.id),\n            name: cam.name,\n            region: cam.region.name,\n            latitude: cam.latitude,\n            longitude: cam.longitude,\n            status: cam.underMaintenance ? 'Under Maintenance' : 'Active',\n            direction: cam.direction,\n            imageUrl: `https://trafficnz.info${cam.imageUrl}`,\n            description: cam.description,\n            group: cam.group,\n            highway: cam.highway\n        }));\n        return cameraCache;\n    }\n    console.error(\"Fallback data is also invalid.\");\n    return [];\n  }\n}\n\nexport async function getCameraById(id: string): Promise<Camera | undefined> {\n    const cameras = await getAllCameras();\n    return cameras.find(camera => camera.id === id);\n}\n"],"names":[],"mappings":";;;;AACA;;AAEA,IAAI,cAA+B;AACnC,MAAM,eAAe;AAErB,MAAM,kBAAkB,GAAG,aAAa,uDAAuD,CAAC;AAEhG,SAAS,qBAAqB,cAAqB;IAC/C,IAAI,CAAC,kBAAkB,eAAe,MAAM,KAAK,GAAG,OAAO,EAAE;IAE7D,OAAO,eAAe,GAAG,CAAC,CAAA;QACtB,MAAM,OAAO,QAAQ,UAAU;QAC/B,MAAM,OAAO,QAAQ,QAAQ;QAE7B,OAAO;YACH,IAAI,OAAO,KAAK,EAAE;YAClB,MAAM,KAAK,IAAI;YACf,QAAQ,KAAK,MAAM;YACnB,UAAU,KAAK,CAAC;YAChB,WAAW,KAAK,CAAC;YACjB,QAAQ,KAAK,gBAAgB,KAAK,UAAU,WAAW;YACvD,WAAW,KAAK,SAAS;YACzB,UAAU,KAAK,QAAQ;YACvB,aAAa,KAAK,WAAW;YAC7B,OAAO,KAAK,KAAK;YACjB,SAAS,KAAK,OAAO;QACzB;IACJ;AACJ;AAEO,eAAe;IACpB,IAAI,aAAa;QACf,OAAO;IACT;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,iBAAiB;YAC5C,SAAS;gBACP,UAAU;YACZ;YACA,MAAM;gBAAE,YAAY;YAAI,EAAE,6BAA6B;QACzD;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM,CAAC,6BAA6B,EAAE,SAAS,UAAU,EAAE;QACzE;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,QAAQ,KAAK,QAAQ,EAAE;YACvB,cAAc,qBAAqB,KAAK,QAAQ;YAChD,OAAO;QACX;QAEA,QAAQ,KAAK,CAAC,qDAAqD,KAAK,SAAS,CAAC,MAAM,MAAM;QAC9F,MAAM,IAAI,MAAM;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,IAAI,CAAC,gEAAgE;QAC7E,aAAa;QACb,IAAI,+EAAA,CAAA,UAAY,EAAE,UAAU,QAAQ;YAChC,MAAM,gBAAgB,+EAAA,CAAA,UAAY,CAAC,QAAQ,CAAC,MAAM;YAClD,cAAc,cAAc,GAAG,CAAC,CAAC,MAAa,CAAC;oBAC3C,IAAI,OAAO,IAAI,EAAE;oBACjB,MAAM,IAAI,IAAI;oBACd,QAAQ,IAAI,MAAM,CAAC,IAAI;oBACvB,UAAU,IAAI,QAAQ;oBACtB,WAAW,IAAI,SAAS;oBACxB,QAAQ,IAAI,gBAAgB,GAAG,sBAAsB;oBACrD,WAAW,IAAI,SAAS;oBACxB,UAAU,CAAC,sBAAsB,EAAE,IAAI,QAAQ,EAAE;oBACjD,aAAa,IAAI,WAAW;oBAC5B,OAAO,IAAI,KAAK;oBAChB,SAAS,IAAI,OAAO;gBACxB,CAAC;YACD,OAAO;QACX;QACA,QAAQ,KAAK,CAAC;QACd,OAAO,EAAE;IACX;AACF;AAEO,eAAe,cAAc,EAAU;IAC1C,MAAM,UAAU,MAAM;IACtB,OAAO,QAAQ,IAAI,CAAC,CAAA,SAAU,OAAO,EAAE,KAAK;AAChD","debugId":null}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/components/header.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { Input } from \"./ui/input\";\nimport { TrafficCone, Search, Loader2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nexport function Header({ \n    cameraCount,\n    searchTerm,\n    onSearchChange,\n}: { \n    cameraCount: number;\n    searchTerm: string;\n    onSearchChange: (term: string) => void;\n}) {\n  return (\n    <header className=\"sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-b\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-between gap-4 h-20\">\n            <div className=\"flex items-center gap-3\">\n                <TrafficCone className=\"h-7 w-7 text-primary\" />\n                <h1 className=\"text-2xl font-bold tracking-tight hidden sm:block\">\n                    NZ Traffic Cameras\n                </h1>\n            </div>\n            \n            <div className=\"flex items-center gap-4 flex-1 max-w-2xl\">\n                 <div className={cn(\"relative w-full\")}>\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                    <Input\n                        type=\"search\"\n                        placeholder=\"Search by name, region, highway, or description...\"\n                        className=\"pl-9 h-10 text-base w-full bg-secondary rounded-lg border-transparent shadow-sm\"\n                        value={searchTerm}\n                        onChange={(e) => onSearchChange(e.target.value)}\n                    />\n                </div>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n                <div className=\"bg-secondary rounded-lg border h-10 px-4 flex items-center gap-2 text-sm font-medium\">\n                    <span>{cameraCount > 0 ? cameraCount : <Loader2 className=\"h-4 w-4 animate-spin\" />}</span>\n                    <span className=\"text-muted-foreground hidden sm:inline-block\">Cameras</span>\n                </div>\n            </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAMO,SAAS,OAAO,EACnB,WAAW,EACX,UAAU,EACV,cAAc,EAKjB;IACC,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,oNAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;0CACvB,8OAAC;gCAAG,WAAU;0CAAoD;;;;;;;;;;;;kCAKtE,8OAAC;wBAAI,WAAU;kCACV,cAAA,8OAAC;4BAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE;;8CAChB,8OAAC,sMAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC,iIAAA,CAAA,QAAK;oCACF,MAAK;oCACL,aAAY;oCACZ,WAAU;oCACV,OAAO;oCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;kCAK1D,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;8CAAM,cAAc,IAAI,4BAAc,8OAAC,iNAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;;;;;;8CAC1D,8OAAC;oCAAK,WAAU;8CAA+C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnF","debugId":null}},
    {"offset": {"line": 629, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/traffic-cameras-nz-app/src/app/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport CameraList from '@/components/camera-list';\nimport type { Camera } from '@/lib/types';\nimport { getAllCameras } from '@/lib/data';\nimport { Header } from '@/components/header';\nimport Image from 'next/image';\nimport { Card, CardContent } from '@/components/ui/card';\n\nexport default function Home() {\n    const [cameras, setCameras] = useState<Camera[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n\n    useEffect(() => {\n        const fetchCameras = async () => {\n            setLoading(true);\n            const cams = await getAllCameras();\n            setCameras(cams);\n            setLoading(false);\n        };\n        fetchCameras();\n    }, []);\n\n    const filteredCameras = useMemo(() => {\n        if (!cameras.length) return [];\n        const lowerCaseSearch = searchTerm.toLowerCase();\n        return cameras.filter(camera =>\n            camera.name.toLowerCase().includes(lowerCaseSearch) ||\n            camera.region.toLowerCase().includes(lowerCaseSearch) ||\n            camera.highway?.toLowerCase().includes(lowerCaseSearch) ||\n            camera.description?.toLowerCase().includes(lowerCaseSearch)\n        );\n    }, [cameras, searchTerm]);\n\n    const featuredCamera = useMemo(() => {\n        if (filteredCameras.length > 0) return filteredCameras[0];\n        return null;\n    }, [filteredCameras]);\n\n  return (\n      <div className=\"min-h-screen w-full bg-secondary\">\n        <Header \n            cameraCount={cameras.length}\n            searchTerm={searchTerm}\n            onSearchChange={setSearchTerm}\n        />\n\n        <main className=\"container mx-auto px-4 py-8\">\n            <div className='max-w-5xl mx-auto'>\n                {loading && (\n                    <Card className=\"mb-8\">\n                        <CardContent className=\"p-4\">\n                            <Skeleton className=\"aspect-video w-full\" />\n                            <Skeleton className=\"h-6 w-3/4 mt-4\" />\n                            <Skeleton className=\"h-4 w-1/2 mt-2\" />\n                        </CardContent>\n                    </Card>\n                )}\n\n                {!loading && featuredCamera && (\n                     <Card className=\"mb-8 overflow-hidden shadow-lg border-2 border-primary\">\n                        <CardContent className=\"p-0\">\n                            <div className=\"aspect-video w-full relative\">\n                                <Image \n                                    src={featuredCamera.imageUrl} \n                                    alt={`Live feed from ${featuredCamera.name}`} \n                                    fill\n                                    className=\"object-cover\"\n                                    priority\n                                    unoptimized\n                                />\n                            </div>\n                            <div className='p-4 bg-background'>\n                                <h2 className=\"text-lg font-bold\">{featuredCamera.name}</h2>\n                                <p className=\"text-sm text-muted-foreground\">{featuredCamera.description}</p>\n                            </div>\n                        </CardContent>\n                    </Card>\n                )}\n                \n                <h2 className=\"text-xl font-bold mb-4\">Available Cameras ({filteredCameras.length})</h2>\n                <CameraList \n                    cameras={filteredCameras} \n                    isLoading={loading}\n                />\n            </div>\n        </main>\n      </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AATA;;;;;;;;;AAWe,SAAS;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,eAAe;YACjB,WAAW;YACX,MAAM,OAAO,MAAM,CAAA,GAAA,kHAAA,CAAA,gBAAa,AAAD;YAC/B,WAAW;YACX,WAAW;QACf;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC5B,IAAI,CAAC,QAAQ,MAAM,EAAE,OAAO,EAAE;QAC9B,MAAM,kBAAkB,WAAW,WAAW;QAC9C,OAAO,QAAQ,MAAM,CAAC,CAAA,SAClB,OAAO,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,oBACnC,OAAO,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,oBACrC,OAAO,OAAO,EAAE,cAAc,SAAS,oBACvC,OAAO,WAAW,EAAE,cAAc,SAAS;IAEnD,GAAG;QAAC;QAAS;KAAW;IAExB,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC3B,IAAI,gBAAgB,MAAM,GAAG,GAAG,OAAO,eAAe,CAAC,EAAE;QACzD,OAAO;IACX,GAAG;QAAC;KAAgB;IAEtB,qBACI,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4HAAA,CAAA,SAAM;gBACH,aAAa,QAAQ,MAAM;gBAC3B,YAAY;gBACZ,gBAAgB;;;;;;0BAGpB,8OAAC;gBAAK,WAAU;0BACZ,cAAA,8OAAC;oBAAI,WAAU;;wBACV,yBACG,8OAAC,gIAAA,CAAA,OAAI;4BAAC,WAAU;sCACZ,cAAA,8OAAC,gIAAA,CAAA,cAAW;gCAAC,WAAU;;kDACnB,8OAAC,oIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,oIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,oIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;;;;;;wBAK/B,CAAC,WAAW,gCACR,8OAAC,gIAAA,CAAA,OAAI;4BAAC,WAAU;sCACb,cAAA,8OAAC,gIAAA,CAAA,cAAW;gCAAC,WAAU;;kDACnB,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;4CACF,KAAK,eAAe,QAAQ;4CAC5B,KAAK,CAAC,eAAe,EAAE,eAAe,IAAI,EAAE;4CAC5C,IAAI;4CACJ,WAAU;4CACV,QAAQ;4CACR,WAAW;;;;;;;;;;;kDAGnB,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAG,WAAU;0DAAqB,eAAe,IAAI;;;;;;0DACtD,8OAAC;gDAAE,WAAU;0DAAiC,eAAe,WAAW;;;;;;;;;;;;;;;;;;;;;;;sCAMxF,8OAAC;4BAAG,WAAU;;gCAAyB;gCAAoB,gBAAgB,MAAM;gCAAC;;;;;;;sCAClF,8OAAC,oIAAA,CAAA,UAAU;4BACP,SAAS;4BACT,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAM/B","debugId":null}}]
}